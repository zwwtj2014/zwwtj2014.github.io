<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Clam&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://fdconsole.com/"/>
  <updated>2018-03-28T14:35:26.092Z</updated>
  <id>http://fdconsole.com/</id>
  
  <author>
    <name>clam</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å¸¸ç”¨çš„nodeåº“â€”â€”gulp</title>
    <link href="http://fdconsole.com/2018/03/28/%E5%B8%B8%E7%94%A8%E7%9A%84node%E5%BA%93%E2%80%94%E2%80%94gulp/"/>
    <id>http://fdconsole.com/2018/03/28/å¸¸ç”¨çš„nodeåº“â€”â€”gulp/</id>
    <published>2018-03-28T14:32:48.000Z</published>
    <updated>2018-03-28T14:35:26.092Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>gulpæ˜¯åŸºäºNodeçš„å‰ç«¯æ„å»ºå·¥å…·ã€‚å°†æºåˆ°ç›®æ ‡çš„ç¼–è¯‘æ„å»ºæŒ‰ç…§æµçš„æ€æƒ³ä»»åŠ¡åŒ–ï¼Œæ­£å¦‚å…¶å®˜ç½‘æ‰€è¯´ï¼Œgulpè®©ç®€å•çš„ä»»åŠ¡ç®€å•ï¼Œè®©å¤æ‚çš„ä»»åŠ¡å¯ç®¡ç†ã€‚</p><h2 id="åŸºç¡€ä½¿ç”¨"><a href="#åŸºç¡€ä½¿ç”¨" class="headerlink" title="åŸºç¡€ä½¿ç”¨"></a>åŸºç¡€ä½¿ç”¨</h2><p><strong>1. å®‰è£…</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g gulp // å…¨å±€å®‰è£…</span><br><span class="line">npm install -D gulp // å¼€å‘æ€ä¾èµ–</span><br></pre></td></tr></table></figure><p><strong>2. ä½¿ç”¨</strong></p><ul><li><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º<code>gulpfile.js</code>ï¼Œå†…å®¹æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line">gulp.task(<span class="string">'default'</span>, ()=&gt;&#123;</span><br><span class="line">    <span class="comment">// ä»»åŠ¡ä»£ç </span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'default task'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gulp // æ‰§è¡Œgulpfile.jsæ–‡ä»¶</span><br><span class="line">===&gt; default task</span><br><span class="line"></span><br><span class="line">gulp &lt;task&gt; &lt;othertask&gt; // æ‰§è¡Œç‰¹å®šçš„ä»»åŠ¡</span><br></pre></td></tr></table></figure></li></ul><h4 id="å¸¸ç”¨API"><a href="#å¸¸ç”¨API" class="headerlink" title="å¸¸ç”¨API"></a>å¸¸ç”¨API</h4><p><strong><code>gulp.task(name[,deps],fn)</code></strong></p><blockquote><p>ä¸Šæ–‡ç¤ºä¾‹ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œè¯¥å‡½æ•°ä¸»è¦ç”¨äºå®šä¹‰ä¸€ä¸ªä»»åŠ¡(task).</p><blockquote><p><strong>nameï¼š</strong>ä»»åŠ¡çš„åå­—</p><p><strong>depsï¼š</strong>åˆ—å‡ºåœ¨<strong>å½“å‰ä»»åŠ¡è¿è¡Œä¹‹å‰éœ€è¦å®Œæˆ</strong>çš„ä»»åŠ¡åˆ—è¡¨</p><p><strong>fnï¼š</strong>è¯¥ä»»åŠ¡çš„å…·ä½“æ“ä½œé€»è¾‘</p></blockquote></blockquote><p><strong><code>gulp.src(globs[,options])</code></strong></p><blockquote><p>è¾“å‡ºç¬¦åˆæ¨¡å¼(glob)æˆ–è€…åŒ¹é…æ¨¡å¼çš„æ•°ç»„çš„æ–‡ä»¶ï¼ˆ<strong>å…¶å®å’Œnode-globå¾ˆåƒï¼Œéƒ½æ˜¯æ±‡èšç¬¦åˆæŸä¸ªglobçš„æ–‡ä»¶</strong>ï¼‰</p><p>è¿™ä¸ªæ”¶é›†åˆ°æ•°æ®å¯ä»¥åšæµçš„æºï¼Œé€šè¿‡<code>.pipe</code>æ–¹æ³•æµçš„æ–¹å¼å¯¹æ•°æ®æºè¿›è¡Œå¤„ç†ã€‚</p><blockquote><p><strong>globsï¼š</strong>åŒ¹é…çš„è§„åˆ™</p><p><strong>optionsï¼š</strong>é…ç½®é¡¹ï¼Œæ˜¯ä¸€ä¸ªobjectç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; &gt; &#123;</span><br><span class="line">&gt; &gt;    buffer: boolean = <span class="literal">true</span>;<span class="comment">// è¡¨ç¤ºä»¥bufferçš„å½¢å¼è¿”å›æ–‡ä»¶å†…å®¹ï¼Œç½®æˆfalseåˆ™ä»¥streamçš„æ–¹å¼è¿”å›ï¼ˆå¤§æ–‡ä»¶é€‚ç”¨ï¼‰ã€‚</span></span><br><span class="line">&gt; &gt;    read: boolean = <span class="literal">true</span>;<span class="comment">// è¡¨ç¤ºå»è¯»å–æ–‡ä»¶å†…å®¹ï¼Œç½®æˆfalseåˆ™ä¸è¯»å–è¿”å›ç©ºå€¼</span></span><br><span class="line">&gt; &gt;    base: string; <span class="comment">// æŸ¥æ‰¾çš„åŸºå‡†è·¯å¾„</span></span><br><span class="line">&gt; &gt; &#125;</span><br><span class="line">&gt; &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><p><strong><code>gulp.dest(path[,options])</code></strong></p><blockquote><p>çœ‹åå­—å°±çŸ¥é“å…¶æ„æ€ï¼Œ<code>gulp.src</code>æ˜¯æ•°æ®æµçš„å¼€å§‹ï¼Œ<code>gulp.dest</code>å¯ä»¥æ˜¯æ•°æ®æµçš„ç»“æŸï¼Œä¸­é—´é€‚ç”¨pipeè¿æ¥ã€‚</p><blockquote><p><strong>pathï¼š</strong>string|Function; å¯ä»¥æ˜¯ä¸ªå­—ç¬¦ä¸²è·¯å¾„æˆ–è€…è¿”å›ä¸€ä¸ªè·¯å¾„çš„å‡½æ•°</p><p><strong>optionsï¼š</strong>é…ç½®é¡¹ï¼Œæ˜¯ä¸€ä¸ªobjectç±»å‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; &gt; &#123;</span><br><span class="line">&gt; &gt;     cwd: string = process.cwd(); <span class="comment">// è¾“å‡ºç›®å½•çš„cwd</span></span><br><span class="line">&gt; &gt;     mode: string = <span class="number">0777</span>; <span class="comment">// å®šä¹‰æ‰€æœ‰åœ¨è¾“å‡ºç›®å½•ä¸­æ‰€åˆ›å»ºçš„ç›®å½•çš„æƒé™</span></span><br><span class="line">&gt; &gt; &#125;</span><br><span class="line">&gt; &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><p><strong>ç¤ºä¾‹ï¼š</strong></p><blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; &gt; <span class="comment">// æ”¶é›†srcçš„jsæ–‡ä»¶, copyä¸€ä»½åˆ°buildä¸‹, buildç›®å½•æ²¡æœ‰å›è‡ªåŠ¨åˆ›å»º</span></span><br><span class="line">&gt; &gt; gulp.src(<span class="string">"src/**/*.js"</span>).pipe(gulp.dest(<span class="string">"build"</span>));</span><br><span class="line">&gt; &gt;</span><br></pre></td></tr></table></figure></blockquote></blockquote><p><strong><code>gulp.watch(glob[,opts], tasks)</code></strong></p><blockquote><p>ç›‘å¬æ–‡ä»¶ï¼Œåœ¨ç¬¦åˆglobè§„åˆ™çš„æ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨çš„æ—¶å€™æ‰§è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ª<code>gulp.task</code>åˆ›å»ºçš„taskçš„åå­—</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="keyword">var</span> watcher = gulp.watch(<span class="string">'js/**/*.js'</span>, [<span class="string">'uglify'</span>,<span class="string">'reload'</span>]);</span><br><span class="line">&gt; watcher.on(<span class="string">'change'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">&gt;   <span class="built_in">console</span>.log(<span class="string">'File '</span> + event.path + <span class="string">' was '</span> + event.type + <span class="string">', running tasks...'</span>);</span><br><span class="line">&gt; &#125;);</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><p><strong><code>gulp.watch(glob[,opts,cb])</code></strong></p><blockquote><p>ç›‘å¬æ–‡ä»¶ï¼Œåœ¨ç¬¦åˆglobè§„åˆ™çš„æ–‡ä»¶å‘ç”Ÿæ”¹åŠ¨çš„æ—¶å€™æ‰§è¡Œçš„callback</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; gulp.watch(<span class="string">'js/**/*.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">&gt;   <span class="built_in">console</span>.log(<span class="string">'File '</span> + event.path + <span class="string">' was '</span> + event.type + <span class="string">', running tasks...'</span>);</span><br><span class="line">&gt; &#125;);</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><h2 id="åœºæ™¯æ”¶é›†"><a href="#åœºæ™¯æ”¶é›†" class="headerlink" title="åœºæ™¯æ”¶é›†"></a>åœºæ™¯æ”¶é›†</h2><ul><li><p>å¾…è¡¥å……</p><p>â€‹</p></li></ul><h2 id="ç›¸å…³èµ„æ–™"><a href="#ç›¸å…³èµ„æ–™" class="headerlink" title="ç›¸å…³èµ„æ–™"></a>ç›¸å…³èµ„æ–™</h2><p><a href="https://gulpjs.com/" target="_blank" rel="noopener">gulpå®˜ç½‘</a></p><p><a href="https://www.gulpjs.com.cn" target="_blank" rel="noopener">gulpä¸­æ–‡ç½‘</a></p><p><a href="https://github.com/gulpjs/gulp" target="_blank" rel="noopener">gulp githubåº“</a></p>]]></content>
    
    <summary type="html">
    
      gulpçš„åŸºç¡€å’Œä¸€äº›å¸¸ç”¨çš„ä½¿ç”¨åœºæ™¯åˆ—è¡¨
    
    </summary>
    
      <category term="node" scheme="http://fdconsole.com/categories/node/"/>
    
    
      <category term="node" scheme="http://fdconsole.com/tags/node/"/>
    
      <category term="gulp" scheme="http://fdconsole.com/tags/gulp/"/>
    
  </entry>
  
  <entry>
    <title>ã€webpackã€‘: è®°ä¸€æ¬¡jsbundleä½“ç§¯ä¼˜åŒ–</title>
    <link href="http://fdconsole.com/2018/03/07/%E3%80%90webpack%E3%80%91-%E8%AE%B0%E4%B8%80%E6%AC%A1jsbundle%E4%BD%93%E7%A7%AF%E4%BC%98%E5%8C%96/"/>
    <id>http://fdconsole.com/2018/03/07/ã€webpackã€‘-è®°ä¸€æ¬¡jsbundleä½“ç§¯ä¼˜åŒ–/</id>
    <published>2018-03-07T12:05:26.000Z</published>
    <updated>2018-03-07T12:19:31.658Z</updated>
    
    <content type="html"><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>æœ€è¿‘æ¥åˆ°ä¸€ä¸ªä»»åŠ¡æ˜¯å¸®å¿™ä¼˜åŒ–jsbundleçš„ä½“ç§¯ï¼Œé¡¹ç›®æ˜¯ç”¨tså¼€å‘ï¼Œå¤šå…¥å£ã€‚åœ¨åˆ†æä¹‹åå‘ç°æ¯ä¸ªbundleéƒ½æ‰“äº†åŒä¸€ä»½ä»£ç (è¿™ä»½ä»£ç æ˜¯å…¶å®ƒç»„æä¾›çš„tsï¼Œç¼–è¯‘å‡ºæ¥çš„jsåœ¨3kå·¦å³)ï¼Œè€Œä¸”æ˜¯ä¸ç»å¸¸å˜åŠ¨çš„ã€‚</p><p>æœ€åˆæƒ³åˆ°çš„å°±åœ¨æ‰“åŒ…çš„æ—¶å€™é€šè¿‡<a href="https://webpack.js.org/plugins/commons-chunk-plugin/" target="_blank" rel="noopener"><code>CommonChunkPlugin</code></a>æˆ–è€…<a href="https://webpack.js.org/plugins/dll-plugin/" target="_blank" rel="noopener"><code>Dll &amp; DllReference</code></a>æ’ä»¶æ¥æŠŠè¿™å—æå–å‡ºæ¥ï¼Œä»£ç æ‹†åˆ†åšæˆä¸€ä¸ªç‹¬ç«‹çš„jsï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸ªé—®é¢˜ï¼šå°±æ˜¯æ¯æ¬¡å…¶ä»–ç»„æŠŠè¿™å—ä»£ç æ›´æ–°çš„æ—¶å€™éœ€è¦åœ¨å·¥ç¨‹é‡Œå†è·‘ä¸€éæ‰“åŒ…æ„å»ºçš„è¿‡ç¨‹ï¼Œè¿™å°±æ¶‰åŠåˆ°ä¸€ä¸ªç»„æ›´æ–°äº†ä»£ç éœ€è¦å¦å¤–çš„ç»„æ‰“åŒ…æ„å»ºï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹æ˜¯ä¸å¯æ¥å—çš„ã€‚</p><hr><h2 id="æ–¹æ¡ˆ"><a href="#æ–¹æ¡ˆ" class="headerlink" title="æ–¹æ¡ˆ"></a>æ–¹æ¡ˆ</h2><p>åœ¨è€ƒè™‘äº†ä¹‹åï¼Œå†³å®šå°†è¿™éƒ¨åˆ†å…¬å…±çš„ä»£ç ä»¥<strong>åº“</strong>çš„æ–¹å¼æä¾›å‡ºæ¥ï¼Œåœ¨æä¾›ç»™åˆ«äººä¹‹åï¼Œæ‰“æˆå•ç‹¬çš„jsbundleï¼Œè®©åˆ«äººåœ¨é¡µé¢å¼•ã€‚è¿™å°±æ¶‰åŠåˆ°ä¸¤æ¬¡æ‰“bundleï¼Œé‚£è¿™ä¸¤æ¬¡æ‰“çš„bundleå¦‚ä½•æ‰“é€šå‘¢ï¼Ÿ</p><blockquote><p><strong>output.library + out.libraryTarget + externalsçš„æ–¹å¼</strong></p></blockquote><h4 id="out-library-amp-out-libraryTarget"><a href="#out-library-amp-out-libraryTarget" class="headerlink" title="out.library &amp; out.libraryTarget"></a>out.library &amp; out.libraryTarget</h4><p><strong><a href="https://webpack.js.org/configuration/output/#output-library" target="_blank" rel="noopener">library</a>: </strong>é…åˆlibraryTargetä½¿ç”¨ã€‚å¯ä»¥ç®€å•çš„çœ‹åšè¿™ä¸ªåº“æš´éœ²ç»™åˆ«äººç”¨çš„æ—¶å€™ï¼Œå…³é”®è¯æ˜¯å•¥ã€‚ç±»æ¯”jQueryã€‚<br><strong><a href="https://webpack.js.org/configuration/output/#output-librarytarget" target="_blank" rel="noopener">libraryTarget</a>: </strong>é…åˆå¦‚ä½•å»æš´éœ²libraryã€‚æ”¯æŒä¸‹é¢å‡ ç§:</p><ul><li><p>é€šè¿‡varä»¥å˜é‡çš„æ–¹å¼æš´éœ²å‡ºå»ã€‚<strong>é»˜è®¤é…ç½®</strong></p><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &#123; </span><br><span class="line">   library: &apos;clam&apos;</span><br><span class="line"> &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>æ‰“å‡ºæ¥çš„jsbundleå°±æ˜¯ <code>var clam = /**_entry_return_*/;</code> ç›´æ¥åœ¨é¡µé¢å¼•çš„è¯å¯èƒ½å°±ç›´æ¥æŒ‚windowä¸Šäº†ã€‚</p></blockquote></li><li><p>é€šè¿‡<code>assign</code>å¯ä»¥å°†returnæŒ‚è½½åˆ°å·²ç»å­˜åœ¨çš„æŸä¸ªå˜é‡ä¸Šã€‚</p></li><li><p>é€šè¿‡å…¶å®ƒä¸€äº›å˜é‡çš„æ–¹å¼æš´éœ²å‡ºå»ã€‚å¯ä»¥é…ç½®<code>this</code>,<code>global</code>,<code>commonjs</code>,<code>window</code>,è¿™äº›é…ç½®åŠ ä¸Šlibraryï¼Œå°±å¯ä»¥æŠŠå¯¹åº”çš„åº“<strong>æŒ‚è½½</strong>åˆ°è¿™äº›å˜é‡ä¸Šã€‚å¯¹åº”çš„å°±æ˜¯:</p><blockquote><p><code>this</code>  =&gt; <code>this[&#39;clam&#39;] = /**_entry_return_*/</code><br><code>global</code> =&gt; <code>global[&#39;clam&#39;] = /**_entry_return_*/</code><br><code>window</code> =&gt; <code>window[&#39;clam&#39;] = /**_entry_return_*/</code><br><code>commonjs</code> =&gt; <code>exports[&#39;clam&#39;] = /**_entry_return_*/</code></p></blockquote></li></ul><p>é€šè¿‡ä¸Šè¿°ä¸¤ä¸ªé…ç½®å°±è§£å†³äº†æ‰“åº“æ–‡ä»¶çš„æ–‡ä»¶ï¼Œ<strong>ä½†æ˜¯å½“æ—¶ä¸æƒ³æŠŠå¤ªå¤šçš„ä¸œè¥¿æŒ‚è½½åˆ°windowä¸Šï¼Œå°±åˆ©ç”¨äº†assignçš„æ–¹å¼æŒ‚è½½åœ¨ä¸€ä¸ªå˜é‡åº•ä¸‹ã€‚</strong>å³ï¼š</p><blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   library: <span class="string">`$VAR['clam']`</span>,</span><br><span class="line">   libraryTarget: <span class="string">`assign`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><hr><h4 id="externals"><a href="#externals" class="headerlink" title="externals"></a>externals</h4><p>ä½¿ç”¨assignçš„æ–¹å¼åªä¼šï¼Œè¿”å›å€¼ä¼šæŒ‚è½½åœ¨$VAR[â€˜clamâ€™]ä¸Šï¼Œåœ¨æ‰“åŒ…çš„æ—¶å€™éœ€è¦<strong>å»ºç«‹èµ·ä¸è¿™ä¸ªâ€åº“â€çš„è¿æ¥</strong>å¹¶ä¸”<strong>æ’é™¤è¿™ä¸ªbundle</strong>å°±å¥½ã€‚è¿™ä¸ªæ—¶å€™å°±è¯¥<a href="https://doc.webpack-china.org/configuration/externals/#object" target="_blank" rel="noopener">externals</a>å‡ºåœºäº†ã€‚</p><p>externalsçš„é…ç½®ä¸»è¦å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°è¯´çš„ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>æ‰“çš„bundleé‡Œæ’é™¤æŒ‡å®šçš„åº“</li><li>å»ºç«‹ä¸è¿™ä¸ªåº“çš„â€è¿æ¥â€</li></ul><p>å…·ä½“çš„é…ç½®å¯ä»¥çœ‹ä¸‹<a href="https://doc.webpack-china.org/configuration/externals/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œä¸åŒçš„é…ç½®æ–¹å¼åªæ˜¯åº”å¯¹ä¸åŒçš„åœºæ™¯ï¼Œä½œç”¨è¿˜æ˜¯ä¸Šé¢æåˆ°çš„ä¸¤ç‚¹ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬åˆ©ç”¨<code>output.library &amp; output.libraryTarget</code>å‘å¸ƒçš„åŒ…åå«Libï¼Œä½¿ç”¨çš„æ–¹å¼æ˜¯<code>import {xxx} from &#39;Lib&#39;;</code>å…¶æ‰€æœ‰çš„å®ç°éƒ½å·²ç»æŒ‚è½½äº†$VAR[â€˜clamâ€™] ä¸Šï¼Œé‚£æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·é…ç½®externalsï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">externals:&#123;</span><br><span class="line">  <span class="string">'Lib'</span>: <span class="string">`$VAR['clam']`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ç”Ÿæˆçš„jsbundleé‡Œå¦‚ä¸‹çš„æ–¹å¼ï¼š<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">var</span> xxx = webpack_require(<span class="string">`$VAR['clam']`</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è¿™ç¯‡è®°å½•ä¸»è¦è®°å½•äº†ä¸€æ¬¡åˆ©ç”¨<code>output.library &amp; output.libraryTarget &amp; externals</code>æ¥ä»¥åº“çš„æ–¹å¼å°†æ¯ä¸ªbundleçš„jså‡å°‘3kè¿˜æ˜¯ä¸é”™çš„ã€‚</p><p>å…·ä½“æ€ä¹ˆæ‰“ä¸€ä¸ªåº“å¯ä»¥çœ‹çœ‹<a href="https://doc.webpack-china.org/guides/author-libraries" target="_blank" rel="noopener">åˆ›å»ºLibrary</a>æ–‡æ¡£ã€‚ä¸åŒçš„é…ç½®å¯ä»¥å°†ä½ çš„åº“æ‰“æˆä¸€ä¸ª<strong>commonjsåº“</strong>ï¼Œ<strong>es2015åº“</strong>ç”šè‡³æ˜¯ä¸€ä¸ª<strong>UMDåº“</strong>ã€‚</p>]]></content>
    
    <summary type="html">
    
      è®°å½•äº†ä¸€æ¬¡åˆ©ç”¨`output.library &amp; output.libraryTarget &amp; externals`ä¼˜åŒ–jsbundleä½“ç§¯çš„è¿‡ç¨‹
    
    </summary>
    
      <category term="webpack" scheme="http://fdconsole.com/categories/webpack/"/>
    
    
      <category term="webpack" scheme="http://fdconsole.com/tags/webpack/"/>
    
      <category term="javascript" scheme="http://fdconsole.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>JSæ•°ç»„ï¼špush vs concat</title>
    <link href="http://fdconsole.com/2018/03/06/JS%E6%95%B0%E7%BB%84%EF%BC%9Apush-vs-concat/"/>
    <id>http://fdconsole.com/2018/03/06/JSæ•°ç»„ï¼špush-vs-concat/</id>
    <published>2018-03-06T14:07:12.000Z</published>
    <updated>2018-03-07T12:14:30.459Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨JSè¿™ä¹ˆä¹…, å¯¹äºJSæ•°ç»„çš„ç›¸å…³æ–¹æ³•ä¸€ç›´éƒ½æ˜¯æ‹¿æ¥å°±ç”¨,å¯¹äº<code>push</code>æ–¹æ³•æ›´æ˜¯å¸¸ç”¨ã€‚ä½†æ˜¯åœ¨ä¸€æ¬¡ç”¨åˆ°<code>contact</code>æ–¹æ³•çš„æ—¶å€™è‡ªé—®äº†ä¸€å¥: <code>push</code>å’Œ<code>contact</code>åˆ°åº•æœ‰å“ªäº›åŒºåˆ«?</p><p><strong>å…ˆçœ‹ä¸‹MDNçš„å®šä¹‰:</strong></p><blockquote><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank" rel="noopener">ã€<code>push</code>ã€‘</a>:adds one or more elements to the end of an array and <strong>returns the new length</strong> of the array.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animals = [<span class="string">'pigs'</span>, <span class="string">'goats'</span>, <span class="string">'sheep'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(animals.push(<span class="string">'cows'</span>)); <span class="comment">// expected output: 4</span></span><br><span class="line"><span class="built_in">console</span>.log(animals); <span class="comment">// expected output: Array ["pigs", "goats", "sheep", "cows"]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">animals.push([<span class="string">'new arr'</span>]); <span class="comment">// expected output: 5</span></span><br><span class="line"><span class="built_in">console</span>.log(animals); <span class="comment">// expected output: Array ["pigs", "goats", "sheep", "cows", Array(1)]</span></span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" target="_blank" rel="noopener">ã€<code>contact</code>ã€‘</a>:The <code>concat()</code> method is used to merge two or more arrays. This method <strong>does not change the existing arrays</strong>, but instead returns a new array.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">var</span> array2 = [<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array1.concat(array2)); <span class="comment">// expected output: Array ["a", "b", "c", "d", "e", "f"]</span></span><br><span class="line"><span class="built_in">console</span>.log(array1); <span class="comment">// expected output: Array ["a", "b", "c"]</span></span><br><span class="line"><span class="built_in">console</span>.log(array2); <span class="comment">// expected output: Array ["d", "e", "f"]</span></span><br></pre></td></tr></table></figure></p></blockquote><p><strong>æ‘˜å–é‡ç‚¹ï¼š</strong></p><ol><li><code>push</code>æ–¹æ³•æ·»åŠ å…ƒç´ åˆ°æ•°ç»„æœ«å°¾ï¼Œæ”¹å˜çš„æ˜¯åŒä¸€ä¸ªæ•°ç»„, è¿”å›å€¼æ˜¯æ·»åŠ ä¹‹åæ•°ç»„çš„é•¿åº¦</li><li><code>contact</code>æ–¹æ³•æ˜¯åˆå¹¶ä¸¤ä¸ªæˆ–è€…å¤šä¸ªæ•°ç»„ï¼Œä¸ä¼šæ”¹å˜å­˜åœ¨çš„æ•°ç»„ï¼Œè¿”å›çš„æ˜¯åˆå¹¶çš„æ•°ç»„</li></ol><hr><p><strong>é‚£æ€§èƒ½ä¼šä¸ä¼šæœ‰åŒºåˆ«?</strong></p><p>ç¯å¢ƒï¼šwin8.1 chrome 63.0.3239.132</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// push demo</span></span><br><span class="line"><span class="keyword">var</span> arr3 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr4 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">'push'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">10000</span>; index &gt; <span class="number">0</span>; index--) &#123;</span><br><span class="line">  arr3.push(...arr4);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'push'</span>); <span class="comment">// push: 2.39892578125ms</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// contact demo</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">'contact'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">10000</span>; index &gt; <span class="number">0</span>; index--) &#123;</span><br><span class="line">  arr1 = arr1.concat(arr2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">'contact'</span>); <span class="comment">// contact: 312.762939453125ms</span></span><br></pre></td></tr></table></figure><p><strong>åœ¨æˆ‘è¿™ä¸ªç¯å¢ƒä¸Špush+è§£æ„çš„æ€§èƒ½æ˜¯è¦å¥½äºcontactçš„ã€‚ä¸è¿‡å¯¹äºå¤šä¸ªæ•°ç»„åˆå¹¶çš„æ—¶å€™, contactå› ä¸ºè¿”å›çš„æ˜¯æ–°æ•°ç»„ï¼Œå¯ä»¥é“¾å¼ä¸‹å»ã€‚</strong></p>]]></content>
    
    <summary type="html">
    
      äº†è§£JSæ•°ç»„pushå’Œconcatçš„åŒºåˆ«
    
    </summary>
    
      <category term="JSåŸºç¡€" scheme="http://fdconsole.com/categories/JS%E5%9F%BA%E7%A1%80/"/>
    
    
      <category term="javascript" scheme="http://fdconsole.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘ä¸ºä»€ä¹ˆè¦æ­è¿™ä¸ªåšå®¢</title>
    <link href="http://fdconsole.com/2018/03/04/%E6%88%91%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E6%90%AD%E8%BF%99%E4%B8%AA%E5%8D%9A%E5%AE%A2/"/>
    <id>http://fdconsole.com/2018/03/04/æˆ‘ä¸ºä»€ä¹ˆè¦æ­è¿™ä¸ªåšå®¢/</id>
    <published>2018-03-04T14:16:16.000Z</published>
    <updated>2018-03-07T12:14:27.340Z</updated>
    
    <content type="html"><![CDATA[<p>è‡ª16å¹´æ¯•ä¸šè‡³ä»Šå¿«å·¥ä½œä¸¤å¹´äº†ï¼Œå†™åšå®¢çš„å¿µå¤´åœ¨æˆ‘çš„è„‘æµ·é‡Œå‡ºç°è¿‡æ— æ•°æ¬¡ï¼Œä½†æ˜¯ç¡®å®æ˜¯å› ä¸ºäº‹æƒ…å¤ªå¤šï¼Œå†åŠ ä¸Šå…¬å¸å¯¹å¼€æºç®¡ç†çš„ç‰¹æ®Šæ€§ï¼ˆä½¿ç”¨çš„éƒ½æ˜¯è‡ªå·±ç ”ç©¶çš„æ¡†æ¶ï¼Œgitç‰ˆæœ¬ç®¡ç†ä¹Ÿæ˜¯å†…éƒ¨ä»“åº“ï¼Œæ‰€æœ‰çš„æäº¤è®°å½•éƒ½æ˜¯å†…éƒ¨çš„ï¼‰ï¼Œå¯¼è‡´å†™åšå®¢çš„äº‹æƒ…ä¸€è€Œå†å†è€Œä¸‰çš„è¢«è€½æã€‚ğŸ˜¢</p><p>æœ€è¿‘æˆ¿å­çš„äº‹æƒ…ç»ˆäºæå®Œäº†ï¼Œè™½ç„¶å·¥ä½œä¾ç„¶å¾ˆå¿™ï¼Œä½†æ˜¯æœ¬ç€è‡ªå·±å¯¹å¼€æºçš„çƒ­æƒ…è¿˜æ˜¯å¼ºè¿«è‡ªå·±æŠ½æ—¶é—´å‡ºæ¥æŠŠå¹³æ—¶æ¥è§¦çš„éƒ½è®°å½•ä¸€ä¸‹ï¼Œä¾¿äºè‡ªå·±å›é¡¾ï¼Œä¹Ÿå¸Œæœ›èƒ½åˆ†äº«ç»™å…¶å®ƒäººï¼Œæ›´å¸Œæœ›èƒ½è®©è‡ªå·±ä»æ–°å‚ä¸åˆ°å¼€æºçš„ä¸–ç•Œä¸­ã€‚ğŸ˜‚</p><p>è¿™ä¹Ÿæ˜¯æ­å»ºè¿™ä¸ªåšå®¢çš„æ„ä¹‰æ‰€åœ¨ã€‚ğŸ˜†</p>]]></content>
    
    <summary type="html">
    
      æ­è¿™ä¸ªåšå®¢çš„æ„ä¹‰
    
    </summary>
    
      <category term="éæŠ€æœ¯" scheme="http://fdconsole.com/categories/%E9%9D%9E%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="å” å¨" scheme="http://fdconsole.com/tags/%E5%94%A0%E5%8F%A8/"/>
    
  </entry>
  
</feed>
